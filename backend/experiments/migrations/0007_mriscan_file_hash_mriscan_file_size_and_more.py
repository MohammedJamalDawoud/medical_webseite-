# Generated by Django 5.2.7 on 2025-11-29 18:26

from django.db import migrations, models


class Migration(migrations.Migration):

    dependencies = [
        ('experiments', '0006_pipelinerun_qc_notes_pipelinerun_qc_status'),
    ]

    operations = [
        migrations.AddField(
            model_name='mriscan',
            name='file_hash',
            field=models.CharField(blank=True, help_text='SHA-256 hash for integrity', max_length=64),
        ),
        migrations.AddField(
            model_name='mriscan',
            name='file_size',
            field=models.BigIntegerField(blank=True, help_text='File size in bytes', null=True),
        ),
        migrations.AddField(
            model_name='mriscan',
            name='preview_image',
            field=models.ImageField(blank=True, help_text='Preview image (axial view, middle slice)', null=True, upload_to='previews/'),
        ),
        migrations.AddField(
            model_name='mriscan',
            name='upload_error',
            field=models.TextField(blank=True, help_text='Error message if upload failed'),
        ),
        migrations.AddField(
            model_name='mriscan',
            name='upload_status',
            field=models.CharField(choices=[('PENDING', 'Pending Upload'), ('UPLOADING', 'Uploading'), ('UPLOADED', 'Upload Complete'), ('PROCESSING', 'Processing'), ('READY', 'Ready'), ('FAILED', 'Upload Failed')], default='PENDING', help_text='Upload and processing status', max_length=20),
        ),
        migrations.AlterField(
            model_name='mriscan',
            name='file_path',
            field=models.FileField(blank=True, help_text='Uploaded NIfTI file (.nii or .nii.gz)', null=True, upload_to='mri_scans/%Y/%m/%d/'),
        ),
    ]
