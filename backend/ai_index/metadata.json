[
  {
    "text": "# MRI Organoids Segmentation API Documentation\n\n## Base URL\n```\nhttp://localhost:8000/api/\n```\n\n## Authentication\nCurrently, the API does not require authentication. In production, implement token-based authentication.\n\n---\n\n## Endpoints\n\n### 1. Organoids\n\n#### List Organoids\n```http\nGET /api/organoids/\n```\n\n**Query Parameters:**\n- `species` (optional): Filter by species (HUMAN, MARMOSET, OTHER)\n\n**Response:**\n```json\n{\n  \"results\": [\n    {\n      \"id\": \"uuid\",\n      \"name\": \"Organoid-001\",\n      \"species\": \"HUMAN\",",
    "filename": "API_DOCS.md",
    "heading": "List Organoids",
    "line_start": 1,
    "line_end": 32,
    "chunk_index": 0
  },
  {
    "text": "\"name\": \"Organoid-001\",\n      \"species\": \"HUMAN\",\n      \"experiment_id\": \"EXP-2025-001\",\n      \"description\": \"Human cortical organoid\",\n      \"created_at\": \"2025-01-15T10:30:00Z\",\n      \"scans_count\": 5,\n      \"notes\": \"\"\n    }\n  ]\n}\n```\n\n#### Create Organoid\n```http\nPOST /api/organoids/\n```\n\n**Request Body:**\n```json\n{\n  \"name\": \"Organoid-002\",\n  \"species\": \"HUMAN\",\n  \"experiment_id\": \"EXP-2025-001\",\n  \"description\": \"Human cortical organoid, day 30\",\n  \"notes\": \"Grown under standard conditions\"",
    "filename": "API_DOCS.md",
    "heading": "Create Organoid",
    "line_start": 30,
    "line_end": 55,
    "chunk_index": 1
  },
  {
    "text": "30\",\n  \"notes\": \"Grown under standard conditions\"\n}\n```\n\n#### Get Organoid Detail\n```http\nGET /api/organoids/{id}/\n```\n\n#### Update Organoid\n```http\nPUT /api/organoids/{id}/\nPATCH /api/organoids/{id}/\n```\n\n#### Delete Organoid\n```http\nDELETE /api/organoids/{id}/\n```\n\n---\n\n### 2. MRI Scans\n\n#### List Scans\n```http\nGET /api/scans/\n```\n\n**Query Parameters:**\n- `organoid` (optional): Filter by organoid UUID\n- `sequence_type` (optional): Filter by sequence (T1W, T2W, DWI, MGE)\n- `data_type` (optional): Filter by data type (IN_VITRO, EX_VIVO, IN_VIVO)",
    "filename": "API_DOCS.md",
    "heading": "List Scans",
    "line_start": 53,
    "line_end": 87,
    "chunk_index": 2
  },
  {
    "text": "Filter by data type (IN_VITRO, EX_VIVO, IN_VIVO)\n- `role` (optional): Filter by role (TRAIN, VAL, TEST, UNASSIGNED)\n\n**Response:**\n```json\n{\n  \"results\": [\n    {\n      \"id\": \"uuid\",\n      \"organoid\": \"organoid-uuid\",\n      \"organoid_name\": \"Organoid-001\",\n      \"sequence_type\": \"T1W\",\n      \"data_type\": \"IN_VITRO\",\n      \"role\": \"TRAIN\",\n      \"acquisition_date\": \"2025-01-20\",\n      \"resolution\": \"100 \u03bcm isotropic\",\n      \"file_path\": \"/data/scans/scan001.nii.gz\",\n      \"notes\": \"\",\n      \"created_at\": \"2025-01-20T14:00:00Z\",",
    "filename": "API_DOCS.md",
    "heading": "List Scans",
    "line_start": 85,
    "line_end": 105,
    "chunk_index": 3
  },
  {
    "text": ": \"\",\n      \"created_at\": \"2025-01-20T14:00:00Z\",\n      \"pipeline_runs_count\": 3\n    }\n  ]\n}\n```\n\n#### Create Scan\n```http\nPOST /api/scans/\n```\n\n**Request Body:**\n```json\n{\n  \"organoid\": \"organoid-uuid\",\n  \"sequence_type\": \"T1W\",\n  \"data_type\": \"IN_VITRO\",\n  \"role\": \"TRAIN\",\n  \"acquisition_date\": \"2025-01-20\",\n  \"resolution\": \"100 \u03bcm isotropic\",\n  \"file_path\": \"/data/scans/scan001.nii.gz\",\n  \"notes\": \"High quality scan\"\n}\n```\n\n---\n\n### 3. Experiment Configurations\n\n#### List Experiment Configs\n```http",
    "filename": "API_DOCS.md",
    "heading": "List Experiment Configs",
    "line_start": 103,
    "line_end": 136,
    "chunk_index": 4
  },
  {
    "text": "figurations\n\n#### List Experiment Configs\n```http\nGET /api/experiment-configs/\n```\n\n**Response:**\n```json\n{\n  \"results\": [\n    {\n      \"id\": \"uuid\",\n      \"name\": \"Standard GMM-UNet\",\n      \"description\": \"Default configuration for GMM + U-Net pipeline\",\n      \"config_json\": {\n        \"gmm_classes\": 3,\n        \"unet_depth\": 4,\n        \"learning_rate\": 0.001\n      },\n      \"created_at\": \"2025-01-10T09:00:00Z\"\n    }\n  ]\n}\n```\n\n#### Create Experiment Config\n```http\nPOST /api/experiment-configs/\n```",
    "filename": "API_DOCS.md",
    "heading": "Create Experiment Config",
    "line_start": 134,
    "line_end": 162,
    "chunk_index": 5
  },
  {
    "text": "Config\n```http\nPOST /api/experiment-configs/\n```\n\n**Request Body:**\n```json\n{\n  \"name\": \"High Resolution Config\",\n  \"description\": \"Configuration for high-resolution scans\",\n  \"config_json\": {\n    \"gmm_classes\": 5,\n    \"unet_depth\": 5,\n    \"learning_rate\": 0.0005,\n    \"batch_size\": 2\n  }\n}\n```\n\n---\n\n### 4. Model Versions\n\n#### List Model Versions\n```http\nGET /api/model-versions/\n```\n\n**Response:**\n```json\n{\n  \"results\": [\n    {\n      \"id\": \"uuid\",\n      \"name\": \"UNet-v1.0\",\n      \"description\": \"Initial U-Net model trained on 50 samples\",",
    "filename": "API_DOCS.md",
    "heading": "List Model Versions",
    "line_start": 160,
    "line_end": 194,
    "chunk_index": 6
  },
  {
    "text": "on\": \"Initial U-Net model trained on 50 samples\",\n      \"weights_path\": \"/models/unet_v1.0.pth\",\n      \"created_at\": \"2025-01-05T12:00:00Z\"\n    }\n  ]\n}\n```\n\n#### Create Model Version\n```http\nPOST /api/model-versions/\n```\n\n**Request Body:**\n```json\n{\n  \"name\": \"UNet-v1.1\",\n  \"description\": \"Improved model with data augmentation\",\n  \"weights_path\": \"/models/unet_v1.1.pth\"\n}\n```\n\n---\n\n### 5. Pipeline Runs\n\n#### List Pipeline Runs\n```http\nGET /api/pipeline-runs/\n```\n\n**Query Parameters:**\n- `mri_scan` (optional): Filter by scan UUID",
    "filename": "API_DOCS.md",
    "heading": "List Pipeline Runs",
    "line_start": 192,
    "line_end": 226,
    "chunk_index": 7
  },
  {
    "text": "s:**\n- `mri_scan` (optional): Filter by scan UUID\n- `status` (optional): Filter by status (PENDING, RUNNING, SUCCESS, FAILED)\n- `experiment_config` (optional): Filter by config UUID\n- `model_version` (optional): Filter by model UUID\n- `qc_status` (optional): Filter by QC status (NOT_REVIEWED, ACCEPTED, REJECTED)\n\n**Response:**\n```json\n{\n  \"results\": [\n    {\n      \"id\": \"uuid\",\n      \"mri_scan\": \"scan-uuid\",\n      \"scan_info\": {\n        \"id\": \"scan-uuid\",\n        \"organoid_name\": \"Organoid-001\",",
    "filename": "API_DOCS.md",
    "heading": "List Pipeline Runs",
    "line_start": 224,
    "line_end": 241,
    "chunk_index": 8
  },
  {
    "text": "n-uuid\",\n        \"organoid_name\": \"Organoid-001\",\n        \"sequence_type\": \"T1W\"\n      },\n      \"stage\": \"FULL_PIPELINE\",\n      \"status\": \"SUCCESS\",\n      \"qc_status\": \"ACCEPTED\",\n      \"qc_notes\": \"Good segmentation quality\",\n      \"started_at\": \"2025-01-21T10:00:00Z\",\n      \"finished_at\": \"2025-01-21T10:15:00Z\",\n      \"log_excerpt\": \"Pipeline completed successfully\",\n      \"config_json\": {},\n      \"experiment_config\": \"config-uuid\",\n      \"experiment_config_name\": \"Standard GMM-UNet\",\n      \"model_version\": \"model-uuid\",",
    "filename": "API_DOCS.md",
    "heading": "List Pipeline Runs",
    "line_start": 239,
    "line_end": 254,
    "chunk_index": 9
  },
  {
    "text": "d GMM-UNet\",\n      \"model_version\": \"model-uuid\",\n      \"model_version_name\": \"UNet-v1.0\",\n      \"docker_image\": \"mri-pipeline:latest\",\n      \"cli_command\": \"python run_pipeline.py --input scan001.nii.gz\",\n      \"created_at\": \"2025-01-21T09:55:00Z\",\n      \"has_result\": true\n    }\n  ]\n}\n```\n\n#### Create Pipeline Run\n```http\nPOST /api/pipeline-runs/\n```\n\n**Request Body:**\n```json\n{\n  \"mri_scan\": \"scan-uuid\",\n  \"stage\": \"FULL_PIPELINE\",\n  \"config_json\": {\n    \"preprocessing\": {\n      \"denoise\": true,",
    "filename": "API_DOCS.md",
    "heading": "Create Pipeline Run",
    "line_start": 252,
    "line_end": 277,
    "chunk_index": 10
  },
  {
    "text": ": {\n    \"preprocessing\": {\n      \"denoise\": true,\n      \"bias_correction\": true\n    }\n  },\n  \"experiment_config\": \"config-uuid\",\n  \"model_version\": \"model-uuid\"\n}\n```\n\n#### Update QC Status\n```http\nPATCH /api/pipeline-runs/{id}/\n```\n\n**Request Body:**\n```json\n{\n  \"qc_status\": \"ACCEPTED\",\n  \"qc_notes\": \"Excellent segmentation, all tissue classes clearly defined\"\n}\n```\n\n---\n\n### 6. Segmentation Results\n\n#### List Segmentation Results\n```http\nGET /api/segmentation-results/\n```\n\n**Query Parameters:**",
    "filename": "API_DOCS.md",
    "heading": "List Segmentation Results",
    "line_start": 275,
    "line_end": 308,
    "chunk_index": 11
  },
  {
    "text": "/segmentation-results/\n```\n\n**Query Parameters:**\n- `pipeline_run` (optional): Filter by pipeline run UUID\n\n**Response:**\n```json\n{\n  \"results\": [\n    {\n      \"id\": \"uuid\",\n      \"pipeline_run\": \"run-uuid\",\n      \"dice_score\": 0.92,\n      \"iou\": 0.85,\n      \"volume_ml\": 2.5,\n      \"preview_images\": {\n        \"axial\": \"data:image/svg+xml;base64,...\",\n        \"sagittal\": \"data:image/svg+xml;base64,...\",\n        \"coronal\": \"data:image/svg+xml;base64,...\"\n      },\n      \"created_at\": \"2025-01-21T10:15:00Z\"",
    "filename": "API_DOCS.md",
    "heading": "List Segmentation Results",
    "line_start": 306,
    "line_end": 326,
    "chunk_index": 12
  },
  {
    "text": "},\n      \"created_at\": \"2025-01-21T10:15:00Z\"\n    }\n  ]\n}\n```\n\n---\n\n## Common Workflows\n\n### 1. Create New Organoid and Scan\n```python\n# 1. Create organoid\norganoid = POST /api/organoids/\n{\n  \"name\": \"Organoid-003\",\n  \"species\": \"HUMAN\",\n  \"experiment_id\": \"EXP-2025-002\"\n}\n\n# 2. Add MRI scan\nscan = POST /api/scans/\n{\n  \"organoid\": organoid[\"id\"],\n  \"sequence_type\": \"T1W\",\n  \"data_type\": \"IN_VITRO\",\n  \"role\": \"TRAIN\",\n  \"file_path\": \"/data/scan003.nii.gz\"\n}\n```\n\n### 2. Run Pipeline and Review Results",
    "filename": "API_DOCS.md",
    "heading": "2. Run Pipeline and Review Results",
    "line_start": 324,
    "line_end": 357,
    "chunk_index": 13
  },
  {
    "text": "gz\"\n}\n```\n\n### 2. Run Pipeline and Review Results\n```python\n# 1. Start pipeline run\nrun = POST /api/pipeline-runs/\n{\n  \"mri_scan\": scan[\"id\"],\n  \"stage\": \"FULL_PIPELINE\",\n  \"experiment_config\": config_id,\n  \"model_version\": model_id\n}\n\n# 2. Check status\nstatus = GET /api/pipeline-runs/{run[\"id\"]}/\n\n# 3. Get results\nresults = GET /api/segmentation-results/?pipeline_run={run[\"id\"]}\n\n# 4. Perform QC\nPATCH /api/pipeline-runs/{run[\"id\"]}/\n{\n  \"qc_status\": \"ACCEPTED\",\n  \"qc_notes\": \"Good quality\"\n}\n```",
    "filename": "API_DOCS.md",
    "heading": "4. Perform QC",
    "line_start": 355,
    "line_end": 380,
    "chunk_index": 14
  },
  {
    "text": "\": \"ACCEPTED\",\n  \"qc_notes\": \"Good quality\"\n}\n```\n\n### 3. Batch Processing\n```python\n# Get all training scans\nscans = GET /api/scans/?role=TRAIN\n\n# Process each scan\nfor scan in scans:\n    run = POST /api/pipeline-runs/\n    {\n      \"mri_scan\": scan[\"id\"],\n      \"stage\": \"FULL_PIPELINE\",\n      \"experiment_config\": config_id\n    }\n```\n\n---\n\n## Error Responses\n\n### 400 Bad Request\n```json\n{\n  \"field_name\": [\"Error message\"]\n}\n```\n\n### 404 Not Found\n```json\n{\n  \"detail\": \"Not found.\"\n}\n```\n\n### 500 Internal Server Error",
    "filename": "API_DOCS.md",
    "heading": "500 Internal Server Error",
    "line_start": 378,
    "line_end": 415,
    "chunk_index": 15
  },
  {
    "text": "\"Not found.\"\n}\n```\n\n### 500 Internal Server Error\n```json\n{\n  \"detail\": \"Internal server error\"\n}\n```\n\n---\n\n## Notes\n\n- All timestamps are in ISO 8601 format (UTC)\n- UUIDs are used for all resource identifiers\n- File paths should be absolute paths accessible by the backend\n- In SIMULATION mode, pipeline runs complete immediately with dummy data\n- In REAL mode, actual CLI commands are executed (requires proper setup)\n\n---\n\n## Rate Limiting\n\nCurrently no rate limiting is implemented. Consider adding rate limiting in production.",
    "filename": "API_DOCS.md",
    "heading": "Rate Limiting",
    "line_start": 413,
    "line_end": 436,
    "chunk_index": 16
  },
  {
    "text": "ted. Consider adding rate limiting in production.\n\n## Pagination\n\nList endpoints support pagination:\n- `?page=1` - Page number\n- `?page_size=10` - Items per page (default: varies by endpoint)\n\n## Filtering\n\nMost list endpoints support filtering via query parameters. See individual endpoint documentation for available filters.",
    "filename": "API_DOCS.md",
    "heading": "Filtering",
    "line_start": 434,
    "line_end": 447,
    "chunk_index": 17
  }
]